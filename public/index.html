<html>
<head>
  <meta charset="utf-8">
  <title data-lang-content="<!--{en}Website detection-->">网站检测</title>
  <script src="//unpkg.com/penjs/penjs.min.js"></script>
  <link rel="stylesheet" type="text/css" href="css/main.css">
  <script>
    window.ws = {
      host: '//:3010',
      path: '/ws/detection',
    };
  </script>
</head>
<body>
  <div>
    拖拽到书签栏：<a href="javascript:(function()%20%7B%0A%20%20var%20website_detection%20%3D%20document.querySelector('%23website_detection')%0A%20%20if%20(website_detection)%20%7B%0A%20%20%20%20website_detection.style.display%20%3D%20''%0A%20%20%20%20if%20(website_detection.onshow)%20%7B%0A%20%20%20%20%20%20website_detection.onshow()%0A%20%20%20%20%7D%0A%20%20%20%20return%0A%20%20%7D%0A%20%20website_detection%20%3D%20document.createElement('div')%0A%20%20website_detection.id%20%3D%20'website_detection'%0A%20%20website_detection.innerHTML%20%3D%20%22%20%20%20%20%3Cstyle%3E%23website_detection%7Bposition%3Afixed%3Bwidth%3A440px%3Bborder%3Agray%20solid%201px%3Bborder-radius%3A3px%3Bbackground%3A%23fff%3Bleft%3A100px%3Btop%3A30px%3Bz-index%3A2012122324%7D%23website_detection%20a%2C%23website_detection%20button%2C%23website_detection%20h4%2C%23website_detection%20input%2C%23website_detection%20label%2C%23website_detection%20li%2C%23website_detection%20p%2C%23website_detection%20select%2C%23website_detection%20textarea%2C%23website_detection%20ul%7Bmargin%3A0%3Bpadding%3A0%3Bbox-sizing%3Aborder-box%3Bfont%3A18px%2F1.125%20Arial%2CHelvetica%2Csans-serif%7D%23website_detection%20h4%7Bpadding%3A4px%200%7D%23website_detection%20li%2C%23website_detection%20ul%7Blist-style%3Anone%3Bpadding%3A0%3Bmargin%3A0%7D%23website_detection%20.panel_header%7Bheight%3A24px%3Bline-height%3A24px%3Bposition%3Arelative%3Bbackground%3A%2324292e%3Bcolor%3A%23fff%3Bpadding%3A2px%205px%3B-webkit-user-select%3Anone%3B-moz-user-select%3Anone%3B-ms-user-select%3Anone%3Buser-select%3Anone%3Bcursor%3Amove%7D%23website_detection%20.panel_header%20.image_logo%7Bfloat%3Aleft%3Bcursor%3Apointer%3Bcolor%3A%23fff%3Btext-decoration%3Anone%7D%23website_detection%20.panel_header%20.label_title%7Bfloat%3Aleft%3Bmargin-left%3A5px%7D%23website_detection%20.panel_header%20.btn_close%7Bfloat%3Aright%3Bcursor%3Apointer%7D%23website_detection%20.panel_content%7Bbackground%3A%23fff%3Bpadding%3A5px%7D%23website_detection%20.panel_content%20.features%20li%7Bfloat%3Aleft%3Bwidth%3A200px%3Bmargin%3A6px%3Bheight%3A150px%3Btext-align%3Acenter%3Bborder%3Agray%20solid%201px%7D%23website_detection%20.panel_content%20.features%20li%20img%7Bwidth%3A170px%3Bheight%3A70px%7D%23website_detection%20.clear%7Bclear%3Aboth%7D%3C%2Fstyle%3E%5Cn%20%20%20%20%3Cdiv%20class%3D%5C%22panel_header%5C%22%3E%5Cn%20%20%20%20%20%20%3Ca%20href%3D%5C%22https%3A%2F%2Fweibo.com%2Fzswang%5C%22%20target%3D%5C%22_blank%5C%22%20class%3D%5C%22image_logo%5C%22%3Ez%3C%2Fa%3E%5Cn%20%20%20%20%20%20%3Cspan%20class%3D%5C%22label_title%5C%22%3EWebsite%20Detection%3C%2Fspan%3E%5Cn%20%20%20%20%20%20%3Cspan%20class%3D%5C%22btn_close%5C%22%3E%C3%97%3C%2Fspan%3E%5Cn%20%20%20%20%3C%2Fdiv%3E%5Cn%20%20%20%20%3Cdiv%20class%3D%5C%22panel_content%5C%22%3E%5Cn%20%20%20%20%20%20%3Cul%20class%3D%5C%22features%5C%22%3E%3C%2Ful%3E%5Cn%20%20%20%20%3C%2Fdiv%3E%22%0A%20%20document.body.appendChild(website_detection)%0A%20%20var%20features%20%3D%20%5B%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Fwww%5C.google-analytics%5C.com%5C%2Fanalytics%5C.js%7Cssl%5C.google-analytics%5C.com%5C%2Fga%5C.js%2F%2C%0A%20%20%20%20%20%20name%3A%20%22google-analytics%22%2C%0A%20%20%20%20%20%20title%3A%20%22%E8%B0%B7%E6%AD%8C%E5%88%86%E6%9E%90%22%2C%0A%20%20%20%20%20%20global%3A%20%22GoogleAnalyticsObject%22%2C%0A%20%20%20%20%20%20home%3A%20%22https%3A%2F%2Fanalytics.google.com%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Fwww%5C.googletagmanager%5C.com%5C%2Fgtm%5C.js%2F%2C%0A%20%20%20%20%20%20name%3A%20%22google-tagmanager%22%2C%0A%20%20%20%20%20%20title%3A%20%22tag%20manager%22%2C%0A%20%20%20%20%20%20global%3A%20%22google_tag_manager%22%2C%0A%20%20%20%20%20%20home%3A%20%22https%3A%2F%2Fwww.google.com%2Fanalytics%2Ftag-manager%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Fhm%5C.baidu%5C.com%5C%2Fhm%5C.js%7Chm%5C.baidu%5C.com%5C%2Fh%5C.js%7Cdatax%5C.baidu%5C.com%5C%2Fx%5C.js%2F%2C%0A%20%20%20%20%20%20name%3A%20%22baidutongji%22%2C%0A%20%20%20%20%20%20title%3A%20%22%E7%99%BE%E5%BA%A6%E7%BB%9F%E8%AE%A1%22%2C%0A%20%20%20%20%20%20global%3A%20%22_hmt%22%2C%0A%20%20%20%20%20%20home%3A%20%22http%3A%2F%2Ftongji.baidu.com%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Fwww%5C.sensorsdata%5C.cn%5C%2Fsdk%5C%2Fsensorsdata%5C.www%5C.js%7Csensorsdata%5C.min%5C.js%2F%2C%0A%20%20%20%20%20%20name%3A%20%22sensorsdata%22%2C%0A%20%20%20%20%20%20title%3A%20%22%E7%A5%9E%E7%AD%96%E6%95%B0%E6%8D%AE%22%2C%0A%20%20%20%20%20%20global%3A%20%22sensorsDataAnalytic201505%22%2C%0A%20%20%20%20%20%20home%3A%20%22http%3A%2F%2Fsensorsdata.cn%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20null%2C%0A%20%20%20%20%20%20name%3A%20%22sensorsdata%22%2C%0A%20%20%20%20%20%20title%3A%20%22%E7%A5%9E%E7%AD%96%E6%95%B0%E6%8D%AE(App)%22%2C%0A%20%20%20%20%20%20global%3A%20%22sensorsdata_app_js_bridge_call_js%22%2C%0A%20%20%20%20%20%20home%3A%20%22http%3A%2F%2Fsensorsdata.cn%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Fjs%5C.ptengine%5C.cn%5C%2F%5Cw%2B%5C.js%2F%2C%0A%20%20%20%20%20%20name%3A%20%22ptengine%22%2C%0A%20%20%20%20%20%20title%3A%20%22%E9%93%82%E9%87%91%E5%88%86%E6%9E%90%22%2C%0A%20%20%20%20%20%20global%3A%20%22badgeSign%22%2C%0A%20%20%20%20%20%20home%3A%20%22http%3A%2F%2Fwww.ptengine.cn%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Fdn-growing%5C.qbox%5C.me%5C%2Fvds-gate%5C.js%7Cdn-growing%5C.qbox%5C.me%5C%2Fvds%5C.js%2F%2C%0A%20%20%20%20%20%20name%3A%20%22growingio%22%2C%0A%20%20%20%20%20%20title%3A%20%22GrowingIO%22%2C%0A%20%20%20%20%20%20global%3A%20%22grcs%22%2C%0A%20%20%20%20%20%20home%3A%20%22https%3A%2F%2Fwww.growingio.com%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Fzhugeio%5C.com%5C%2Fcommon%5C%2Fjs%5C%2Ftrack%5B%5Cw.%5D%2B%5C.js%2F%2C%0A%20%20%20%20%20%20name%3A%20%22zhugeio%22%2C%0A%20%20%20%20%20%20title%3A%20%22%E8%AF%B8%E8%91%9Bio%22%2C%0A%20%20%20%20%20%20global%3A%20%22zhuge%22%2C%0A%20%20%20%20%20%20home%3A%20%22https%3A%2F%2Fzhugeio.com%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Fw%5C.cnzz%5C.com%5C%2Fc%5C.php%5C%3Fid%3D%5Cw%2B%2F%2C%0A%20%20%20%20%20%20name%3A%20%22cnzz%22%2C%0A%20%20%20%20%20%20title%3A%20%22CNZZ%2F%E5%8F%8B%E7%9B%9F%22%2C%0A%20%20%20%20%20%20global%3A%20%22cnzz%22%2C%0A%20%20%20%20%20%20home%3A%20%22http%3A%2F%2Fwww.umeng.com%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Fstatic%5C.t%5C.agrantsem%5C.com%5C%2Fag_track%5B%5Cw-.%5D%2B%5C.js%2F%2C%0A%20%20%20%20%20%20name%3A%20%22agrantsem%22%2C%0A%20%20%20%20%20%20title%3A%20%22AnG%22%2C%0A%20%20%20%20%20%20global%3A%20%22_agtjs%22%2C%0A%20%20%20%20%20%20home%3A%20%22http%3A%2F%2Fwww.agrantsem.com%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Ftajs%5C.qq%5C.com%5C%2Fstats%5C%3FsId%3D%5Cw%2B%2F%2C%0A%20%20%20%20%20%20name%3A%20%22tencent-analytics%22%2C%0A%20%20%20%20%20%20title%3A%20%22%E8%85%BE%E8%AE%AF%E5%88%86%E6%9E%90%22%2C%0A%20%20%20%20%20%20global%3A%20%22taClick%22%2C%0A%20%20%20%20%20%20home%3A%20%22http%3A%2F%2Fv2.ta.qq.com%2F%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2F%5Cblsd%5C.js%5Cb%2F%2C%0A%20%20%20%20%20%20name%3A%20%22lotuseed%22%2C%0A%20%20%20%20%20%20title%3A%20%22%E8%8E%B2%E5%AD%90%E6%89%8B%E6%B8%B8%E8%BF%90%E8%90%A5%E5%88%86%E6%9E%90%22%2C%0A%20%20%20%20%20%20global%3A%20%22Lsd%22%2C%0A%20%20%20%20%20%20home%3A%20%22http%3A%2F%2Fgame.lotuseed.com%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20pattern%3A%20%2Fb%5C.scorecardresearch%5C.com%5C%2Fbeacon%5C.js%2F%2C%0A%20%20%20%20%20%20name%3A%20%22scorecard-research%22%2C%0A%20%20%20%20%20%20title%3A%20%22ScorecardResearch%22%2C%0A%20%20%20%20%20%20global%3A%20%22udm_%22%2C%0A%20%20%20%20%20%20home%3A%20%22http%3A%2F%2Fwww.scorecardresearch.com%2F%22%0A%20%20%20%20%7D%0A%20%20%5D%3B%0A%20%20var%20currentFeatures%20%3D%20%5B%5D%3B%0A%20%20if%20(window.performance%20%26%26%20performance.getEntries)%20%7B%0A%20%20%20%20performance.getEntries().forEach(function(entrie)%20%7B%0A%20%20%20%20%20%20features.forEach(function(feature)%20%7B%0A%20%20%20%20%20%20%20%20if%20(feature.pattern%20%26%26%20feature.pattern.test(entrie.name))%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(currentFeatures.indexOf(feature)%20%3C%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentFeatures.push(feature)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%20%20features.forEach(function(feature)%20%7B%0A%20%20%20%20if%20(feature.global%20in%20window)%20%7B%0A%20%20%20%20%20%20if%20(currentFeatures.indexOf(feature)%20%3C%200)%20%7B%0A%20%20%20%20%20%20%20%20currentFeatures.push(feature)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%20%20var%20detection_header%20%3D%20website_detection.querySelector(%22.panel_header%22)%3B%0A%20%20if%20(detection_header)%20%7B%0A%20%20%20%20var%20origin%3B%0A%20%20%20%20var%20startPos%3B%0A%20%20%20%20detection_header.addEventListener(%22mousedown%22%2C%20function(e)%20%7B%0A%20%20%20%20%20%20var%20style%20%3D%20getComputedStyle(website_detection%2C%20true)%3B%0A%20%20%20%20%20%20origin%20%3D%20%5BparseFloat(style.left)%2C%20parseFloat(style.top)%5D%3B%0A%20%20%20%20%20%20startPos%20%3D%20%5Be.screenX%2C%20e.screenY%5D%3B%0A%20%20%20%20%20%20function%20handlerMouseMove(e)%20%7B%0A%20%20%20%20%20%20%20%20website_detection.style.left%20%3D%0A%20%20%20%20%20%20%20%20%20%20Math.max(%0A%20%20%20%20%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.min(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.documentElement.clientWidth%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20website_detection.clientWidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20origin%5B0%5D%20%2B%20(e.screenX%20-%20startPos%5B0%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20)%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20website_detection.style.top%20%3D%0A%20%20%20%20%20%20%20%20%20%20Math.max(%0A%20%20%20%20%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.min(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.documentElement.clientHeight%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20website_detection.clientHeight%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20origin%5B1%5D%20%2B%20(e.screenY%20-%20startPos%5B1%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20)%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20function%20handlerMouseUp(e)%20%7B%0A%20%20%20%20%20%20%20%20document.removeEventListener(%22mousemove%22%2C%20handlerMouseMove)%3B%0A%20%20%20%20%20%20%20%20document.removeEventListener(%22mouseup%22%2C%20handlerMouseUp)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20document.addEventListener(%22mousemove%22%2C%20handlerMouseMove)%3B%0A%20%20%20%20%20%20document.addEventListener(%22mouseup%22%2C%20handlerMouseUp)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%20%20var%20detection_close%20%3D%20website_detection.querySelector(%0A%20%20%20%20%22.panel_header%20.btn_close%22%0A%20%20)%3B%0A%20%20if%20(detection_close)%20%7B%0A%20%20%20%20detection_close.addEventListener(%22click%22%2C%20function()%20%7B%0A%20%20%20%20%20%20website_detection.style.display%20%3D%20%22none%22%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%20%20var%20elementFeatures%20%3D%20website_detection.querySelector(%22.features%22)%3B%0A%20%20var%20html%20%3D%20%22%22%3B%0A%20%20currentFeatures.forEach(function(feature)%20%7B%0A%20%20%20%20html%20%2B%3D%20%22%5Cn%20%20%3Cli%3E%5Cn%20%20%20%20%3Ch4%3E%22%20%2B%20(feature.title)%20%2B%20%22%3C%2Fh4%3E%5Cn%20%20%20%20%3Ca%20href%3D%5C%22%22%20%2B%20(%0A%20%20%20%20%20%20feature.home%0A%20%20%20%20)%20%2B%20%22%5C%22%20target%3D%5C%22_blank%5C%22%3E%3Cimg%20src%3D%5C%22%22%20%2B%20(%22https%3A%2F%2Fraw.githubusercontent.com%2Fzswang%2Fwebsite-detection%2Fmaster%2Fpublic%2Fimg%2F%22%20%2B%0A%20%20%20%20%20%20feature.name%20%2B%0A%20%20%20%20%20%20%22.png%22)%20%2B%20%22%5C%22%20alt%3D%5C%22%22%20%2B%20(feature.name)%20%2B%20%22%5C%22%3E%3C%2Fa%3E%5Cn%20%20%3C%2Fli%3E%22%3B%0A%20%20%7D)%3B%0A%20%20elementFeatures.innerHTML%20%3D%20html%3B%0A%7D)()">Detection</a>
  </div>
  <div>
    <img src="img/detection.gif">
  </div>
  <div>
    <div class="form">
      <script type="text/jhtmls">
      var info = { url: url };
      if (loading) {
        <label>#{url} 检测中...<!--{en}In detection...--></label>
      } else {
        <input type="text" placeholder="网址" data-lang-placeholder="<!--{en}URL-->" :value="url" @input="info.url = this.value;" @keyup.enter="detection(info.url)">
        <button @click="detection(info.url)">检测<!--{en}Detection--></button>
      }
      <ul class="features" :bind="features">
        features.forEach(function (feature) {
          <li>
            <h4>#{feature.title}</h4>
            <a :href="feature.home" target="_blank"><img :src="'img/' + feature.name + '.png'" :alt="feature.name"></a>
          </li>
        })
      </ul>
      <div class="clear"></div>
      <ul class="logs" :bind="logs">
        logs.forEach(function (log) {
          <li>#{log.type} -- #{log.message}</li>
        });
      </ul>
      </script>
    </div>
  </div>
</body>
<script src="js/socket.io.js"></script>
<script src="js/main.js"></script>
</html>
